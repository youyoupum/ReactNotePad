# ğŸŒ“ ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½è¯¦è§£

## ğŸ“‹ ç›®å½•
1. [åŠŸèƒ½æ¦‚è¿°](#åŠŸèƒ½æ¦‚è¿°)
2. [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
3. [æ ¸å¿ƒæ¦‚å¿µ](#æ ¸å¿ƒæ¦‚å¿µ)
4. [å®ç°æ­¥éª¤](#å®ç°æ­¥éª¤)
5. [ä»£ç è¯¦è§£](#ä»£ç è¯¦è§£)
6. [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
7. [å­¦ä¹ æ€»ç»“](#å­¦ä¹ æ€»ç»“)

---

## åŠŸèƒ½æ¦‚è¿°

è¿™ä¸ªæ¨¡å—å®ç°äº†ä¸€ä¸ªå®Œæ•´çš„æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

âœ… **å…¨å±€çŠ¶æ€ç®¡ç†** - ä½¿ç”¨ Context API ç®¡ç†ä¸»é¢˜çŠ¶æ€  
âœ… **æŒä¹…åŒ–å­˜å‚¨** - ä¸»é¢˜é€‰æ‹©ä¿å­˜åˆ° localStorageï¼Œåˆ·æ–°é¡µé¢ä¸ä¸¢å¤±  
âœ… **åŠ¨æ€æ ·å¼åˆ‡æ¢** - ä½¿ç”¨ CSS å˜é‡å®ç°å¹³æ»‘çš„é¢œè‰²è¿‡æ¸¡  
âœ… **ç»„ä»¶è§£è€¦** - ä»»ä½•ç»„ä»¶éƒ½å¯ä»¥è½»æ¾è®¿é—®ä¸»é¢˜çŠ¶æ€  
âœ… **ç”¨æˆ·å‹å¥½** - å›ºå®šä½ç½®çš„åˆ‡æ¢æŒ‰é’®ï¼Œæ“ä½œä¾¿æ·

---

## æŠ€æœ¯æ ˆ

### React Hooks
- `createContext` - åˆ›å»ºä¸Šä¸‹æ–‡å¯¹è±¡
- `useContext` - åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ä¸Šä¸‹æ–‡
- `useState` - ç®¡ç†ä¸»é¢˜çŠ¶æ€
- `useEffect` - å¤„ç†å‰¯ä½œç”¨ï¼ˆä¿å­˜åˆ° localStorageã€åº”ç”¨ CSS å˜é‡ï¼‰

### CSS æŠ€æœ¯
- **CSS å˜é‡ï¼ˆCSS Custom Propertiesï¼‰** - åŠ¨æ€ä¸»é¢˜åˆ‡æ¢çš„æ ¸å¿ƒ
- **è¿‡æ¸¡åŠ¨ç”»** - å¹³æ»‘çš„é¢œè‰²åˆ‡æ¢æ•ˆæœ

### Web API
- `localStorage` - æŒä¹…åŒ–ä¸»é¢˜è®¾ç½®

---

## æ ¸å¿ƒæ¦‚å¿µ

### 1ï¸âƒ£ Context API æ˜¯ä»€ä¹ˆï¼Ÿ

**é—®é¢˜**ï¼šåœ¨ React ä¸­ï¼Œå¦‚æœå¾ˆå¤šç»„ä»¶éƒ½éœ€è¦è®¿é—®åŒä¸€ä¸ªæ•°æ®ï¼ˆæ¯”å¦‚ä¸»é¢˜é¢œè‰²ï¼‰ï¼Œä½ éœ€è¦ä¸€å±‚ä¸€å±‚ä¼ é€’ propsï¼Œéå¸¸éº»çƒ¦ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šContext API æä¾›äº†ä¸€ç§**å…¨å±€çŠ¶æ€å…±äº«**çš„æ–¹å¼ï¼Œä»»ä½•ç»„ä»¶éƒ½å¯ä»¥ç›´æ¥è®¿é—®ï¼Œä¸éœ€è¦å±‚å±‚ä¼ é€’ã€‚

**ç±»æ¯”**ï¼š
- **ä¼ ç»Ÿ props ä¼ é€’** = å¿«é€’å‘˜é€å±‚é€è´§ï¼ˆçˆ¸çˆ¸ â†’ å„¿å­ â†’ å­™å­ï¼‰
- **Context API** = å…¨å±€å¹¿æ’­ï¼ˆæ‰€æœ‰äººéƒ½èƒ½ç›´æ¥æ”¶åˆ°ï¼‰

### 2ï¸âƒ£ CSS å˜é‡æ˜¯ä»€ä¹ˆï¼Ÿ

CSS å˜é‡ï¼ˆä¹Ÿå«è‡ªå®šä¹‰å±æ€§ï¼‰å…è®¸ä½ å®šä¹‰å¯å¤ç”¨çš„å€¼ï¼Œç„¶ååœ¨æ•´ä¸ªæ ·å¼è¡¨ä¸­ä½¿ç”¨ã€‚

**è¯­æ³•**ï¼š
```css
/* å®šä¹‰å˜é‡ */
:root {
  --primary-bg: #667eea;
  --text-color: #ffffff;
}

/* ä½¿ç”¨å˜é‡ */
body {
  background: var(--primary-bg);
  color: var(--text-color);
}
```

**ä¼˜åŠ¿**ï¼š
- ä¿®æ”¹å˜é‡å€¼ï¼Œæ‰€æœ‰ä½¿ç”¨è¯¥å˜é‡çš„åœ°æ–¹è‡ªåŠ¨æ›´æ–°
- å¯ä»¥é€šè¿‡ JavaScript åŠ¨æ€ä¿®æ”¹
- éå¸¸é€‚åˆå®ç°ä¸»é¢˜åˆ‡æ¢

### 3ï¸âƒ£ è‡ªå®šä¹‰ Hook æ˜¯ä»€ä¹ˆï¼Ÿ

è‡ªå®šä¹‰ Hook æ˜¯ä¸€ä¸ªä»¥ `use` å¼€å¤´çš„å‡½æ•°ï¼Œå†…éƒ¨å¯ä»¥ä½¿ç”¨å…¶ä»– Hookã€‚

**ä½œç”¨**ï¼š
- å¤ç”¨é€»è¾‘
- è®©ä»£ç æ›´ç®€æ´
- ç¬¦åˆ React æœ€ä½³å®è·µ

---

## å®ç°æ­¥éª¤

### æ­¥éª¤ 1ï¼šåˆ›å»ºä¸»é¢˜é…ç½®å’Œ Context

**æ–‡ä»¶**ï¼š`src/context/ThemeContext.js`

#### 1.1 å®šä¹‰ä¸»é¢˜é…ç½®

```javascript
export const themes = {
  light: {
    name: 'light',
    colors: {
      primaryBg: '#667eea',      // æµ…è‰²æ¨¡å¼ï¼šç´«è‰²èƒŒæ™¯
      textPrimary: '#ffffff',    // ç™½è‰²æ–‡å­—
      cardBg: 'rgba(255, 255, 255, 0.95)',  // ç™½è‰²å¡ç‰‡
      noteText: '#333',          // æ·±è‰²ç¬”è®°æ–‡å­—
      // ... æ›´å¤šé¢œè‰²
    }
  },
  dark: {
    name: 'dark',
    colors: {
      primaryBg: '#1a1a2e',      // æ·±è‰²æ¨¡å¼ï¼šæ·±è“èƒŒæ™¯
      textPrimary: '#e0e0e0',    // æµ…è‰²æ–‡å­—
      cardBg: 'rgba(30, 30, 46, 0.95)',  // æ·±è‰²å¡ç‰‡
      noteText: '#e0e0e0',       // æµ…è‰²ç¬”è®°æ–‡å­—
      // ... æ›´å¤šé¢œè‰²
    }
  }
};
```

**å…³é”®ç‚¹**ï¼š
- æ¯ä¸ªä¸»é¢˜éƒ½æœ‰å®Œæ•´çš„é¢œè‰²é…ç½®
- ä½¿ç”¨é©¼å³°å‘½åï¼ˆJavaScript é£æ ¼ï¼‰
- é¢œè‰²å€¼æ”¯æŒä»»ä½• CSS é¢œè‰²æ ¼å¼

#### 1.2 åˆ›å»º Context

```javascript
export const ThemeContext = createContext();
```

è¿™ä¸€è¡Œåˆ›å»ºäº†ä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼ŒåŒ…å«ï¼š
- `Provider` - æä¾›è€…ç»„ä»¶ï¼Œç”¨äºåŒ…è£¹éœ€è¦è®¿é—®ä¸Šä¸‹æ–‡çš„ç»„ä»¶
- `Consumer` - æ¶ˆè´¹è€…ç»„ä»¶ï¼ˆæˆ‘ä»¬ç”¨ `useContext` ä»£æ›¿ï¼‰

#### 1.3 åˆ›å»º ThemeProvider ç»„ä»¶

```javascript
export function ThemeProvider({ children }) {
  // 1. ä» localStorage è¯»å–ä¿å­˜çš„ä¸»é¢˜ï¼Œé»˜è®¤ä¸º 'light'
  const [theme, setTheme] = useState(() => {
    const savedTheme = localStorage.getItem('theme');
    return savedTheme || 'light';
  });

  // 2. å½“ä¸»é¢˜å˜åŒ–æ—¶ï¼Œä¿å­˜åˆ° localStorage
  useEffect(() => {
    localStorage.setItem('theme', theme);
  }, [theme]);

  // 3. å½“ä¸»é¢˜å˜åŒ–æ—¶ï¼Œæ›´æ–° CSS å˜é‡
  useEffect(() => {
    const root = document.documentElement;
    const currentTheme = themes[theme];
    
    Object.entries(currentTheme.colors).forEach(([key, value]) => {
      // å°†é©¼å³°å‘½åè½¬æ¢ä¸ºçŸ­æ¨ªçº¿å‘½å
      // primaryBg -> --primary-bg
      const cssVarName = `--${key.replace(/([A-Z])/g, '-$1').toLowerCase()}`;
      root.style.setProperty(cssVarName, value);
    });
  }, [theme]);

  // 4. åˆ‡æ¢ä¸»é¢˜å‡½æ•°
  const toggleTheme = () => {
    setTheme(prevTheme => prevTheme === 'light' ? 'dark' : 'light');
  };

  // 5. æä¾›ç»™å­ç»„ä»¶çš„å€¼
  const value = {
    theme,           // å½“å‰ä¸»é¢˜åç§°
    setTheme,        // è®¾ç½®ä¸»é¢˜çš„å‡½æ•°
    toggleTheme,     // åˆ‡æ¢ä¸»é¢˜çš„å‡½æ•°
    themeColors: themes[theme].colors
  };

  return (
    <ThemeContext.Provider value={value}>
      {children}
    </ThemeContext.Provider>
  );
}
```

**å…³é”®æŠ€æœ¯ç‚¹**ï¼š

1. **æƒ°æ€§åˆå§‹åŒ–**ï¼š
   ```javascript
   const [theme, setTheme] = useState(() => {
     // è¿™ä¸ªå‡½æ•°åªåœ¨ç»„ä»¶é¦–æ¬¡æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡
     return localStorage.getItem('theme') || 'light';
   });
   ```

2. **è‡ªåŠ¨ä¿å­˜**ï¼š
   ```javascript
   useEffect(() => {
     localStorage.setItem('theme', theme);
   }, [theme]);  // theme å˜åŒ–æ—¶æ‰§è¡Œ
   ```

3. **åŠ¨æ€è®¾ç½® CSS å˜é‡**ï¼š
   ```javascript
   document.documentElement.style.setProperty('--primary-bg', '#1a1a2e');
   ```

4. **é©¼å³°è½¬çŸ­æ¨ªçº¿**ï¼š
   ```javascript
   'primaryBg'.replace(/([A-Z])/g, '-$1').toLowerCase()
   // ç»“æœï¼š'primary-bg'
   ```

#### 1.4 åˆ›å»ºè‡ªå®šä¹‰ Hook

```javascript
export function useTheme() {
  const context = useContext(ThemeContext);
  
  if (!context) {
    throw new Error('useTheme å¿…é¡»åœ¨ ThemeProvider å†…éƒ¨ä½¿ç”¨');
  }
  
  return context;
}
```

**ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰ Hookï¼Ÿ**

âŒ **ä¸ä½¿ç”¨è‡ªå®šä¹‰ Hook**ï¼š
```javascript
import { useContext } from 'react';
import { ThemeContext } from './ThemeContext';

function MyComponent() {
  const { theme, toggleTheme } = useContext(ThemeContext);
  // ...
}
```

âœ… **ä½¿ç”¨è‡ªå®šä¹‰ Hook**ï¼š
```javascript
import { useTheme } from './ThemeContext';

function MyComponent() {
  const { theme, toggleTheme } = useTheme();
  // ...
}
```

**ä¼˜åŠ¿**ï¼š
- æ›´ç®€æ´ï¼ˆå°‘ä¸€ä¸ª importï¼‰
- è‡ªåŠ¨é”™è¯¯æ£€æŸ¥ï¼ˆå¦‚æœåœ¨ Provider å¤–ä½¿ç”¨ä¼šæŠ¥é”™ï¼‰
- ç¬¦åˆ React å‘½åè§„èŒƒ

---

### æ­¥éª¤ 2ï¼šåˆ›å»ºä¸»é¢˜åˆ‡æ¢æŒ‰é’®

**æ–‡ä»¶**ï¼š`src/components/ThemeToggle.jsx`

```javascript
import { useTheme } from '../context/ThemeContext';

function ThemeToggle() {
  const { theme, toggleTheme } = useTheme();

  return (
    <button onClick={toggleTheme} style={themeToggleButtonStyle}>
      <span>{theme === 'light' ? 'ğŸŒ™' : 'â˜€ï¸'}</span>
      <span>{theme === 'light' ? 'æ·±è‰²æ¨¡å¼' : 'æµ…è‰²æ¨¡å¼'}</span>
    </button>
  );
}
```

**å…³é”®ç‚¹**ï¼š
- ä½¿ç”¨ `useTheme` Hook è·å–ä¸»é¢˜çŠ¶æ€å’Œåˆ‡æ¢å‡½æ•°
- æ ¹æ®å½“å‰ä¸»é¢˜æ˜¾ç¤ºä¸åŒçš„å›¾æ ‡å’Œæ–‡å­—
- `fixed` å®šä½ï¼Œå›ºå®šåœ¨å³ä¸Šè§’

---

### æ­¥éª¤ 3ï¼šåœ¨åº”ç”¨ä¸­é›†æˆ ThemeProvider

**æ–‡ä»¶**ï¼š`src/index.js`

```javascript
import { ThemeProvider } from './context/ThemeContext';

root.render(
  <React.StrictMode>
    <ThemeProvider>
      <App />
    </ThemeProvider>
  </React.StrictMode>
);
```

**ä¸ºä»€ä¹ˆè¦åŒ…è£¹åœ¨æœ€å¤–å±‚ï¼Ÿ**

å› ä¸ºåªæœ‰è¢« `<ThemeProvider>` åŒ…è£¹çš„ç»„ä»¶æ‰èƒ½è®¿é—®ä¸»é¢˜ä¸Šä¸‹æ–‡ã€‚æŠŠå®ƒæ”¾åœ¨æœ€å¤–å±‚ï¼Œæ•´ä¸ªåº”ç”¨çš„æ‰€æœ‰ç»„ä»¶éƒ½å¯ä»¥ä½¿ç”¨ä¸»é¢˜äº†ã€‚

---

### æ­¥éª¤ 4ï¼šæ›´æ–°æ ·å¼ä½¿ç”¨ CSS å˜é‡

#### 4.1 æ›´æ–° App.css

**ä¹‹å‰**ï¼š
```css
body {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
}
```

**ä¹‹å**ï¼š
```css
body {
  background: linear-gradient(135deg, var(--primary-bg) 0%, var(--secondary-bg) 100%);
  color: var(--text-primary);
  transition: background 0.3s ease;  /* å¹³æ»‘è¿‡æ¸¡ */
}
```

#### 4.2 æ›´æ–°ç»„ä»¶å†…è”æ ·å¼

**ä¹‹å‰**ï¼š
```javascript
const noteItemStyle = {
  backgroundColor: 'white',
  color: '#333',
  borderLeft: '4px solid #667eea'
};
```

**ä¹‹å**ï¼š
```javascript
const noteItemStyle = {
  backgroundColor: 'var(--card-bg)',
  color: 'var(--note-text)',
  borderLeft: '4px solid var(--button-primary)'
};
```

**å…³é”®ç‚¹**ï¼š
- æ‰€æœ‰ç¡¬ç¼–ç çš„é¢œè‰²éƒ½æ”¹ä¸º CSS å˜é‡
- CSS å˜é‡ä¼šæ ¹æ®å½“å‰ä¸»é¢˜è‡ªåŠ¨æ›´æ–°

---

## ä»£ç è¯¦è§£

### CSS å˜é‡å‘½åè½¬æ¢

```javascript
// JavaScript å¯¹è±¡ï¼ˆé©¼å³°å‘½åï¼‰
{
  primaryBg: '#667eea',
  textPrimary: '#ffffff',
  cardBg: 'white'
}

// è½¬æ¢ä¸º CSS å˜é‡ï¼ˆçŸ­æ¨ªçº¿å‘½åï¼‰
--primary-bg: #667eea;
--text-primary: #ffffff;
--card-bg: white;
```

**è½¬æ¢ä»£ç **ï¼š
```javascript
const cssVarName = `--${key.replace(/([A-Z])/g, '-$1').toLowerCase()}`;
```

**æ­£åˆ™è¡¨è¾¾å¼è§£é‡Š**ï¼š
- `/([A-Z])/g` - åŒ¹é…æ‰€æœ‰å¤§å†™å­—æ¯
- `'-$1'` - åœ¨å¤§å†™å­—æ¯å‰åŠ ä¸€ä¸ªçŸ­æ¨ªçº¿
- `.toLowerCase()` - è½¬ä¸ºå°å†™

**ç¤ºä¾‹**ï¼š
```
'primaryBg' 
â†’ 'primary-Bg'  (åŠ çŸ­æ¨ªçº¿)
â†’ 'primary-bg'  (è½¬å°å†™)
â†’ '--primary-bg' (åŠ å‰ç¼€)
```

---

### localStorage æŒä¹…åŒ–

```javascript
// è¯»å–
const savedTheme = localStorage.getItem('theme');

// ä¿å­˜
localStorage.setItem('theme', theme);
```

**ä¸ºä»€ä¹ˆéœ€è¦æŒä¹…åŒ–ï¼Ÿ**

ç”¨æˆ·é€‰æ‹©äº†æ·±è‰²æ¨¡å¼åï¼Œåˆ·æ–°é¡µé¢åº”è¯¥ä¿æŒæ·±è‰²æ¨¡å¼ï¼Œè€Œä¸æ˜¯é‡ç½®ä¸ºæµ…è‰²ã€‚

---

### Context æ•°æ®æµ

```
ThemeProvider (æä¾›æ•°æ®)
    â†“
  Context
    â†“
useTheme Hook (æ¶ˆè´¹æ•°æ®)
    â†“
ç»„ä»¶ (ä½¿ç”¨æ•°æ®)
```

**å®Œæ•´æµç¨‹**ï¼š

1. **ThemeProvider æä¾›æ•°æ®**ï¼š
   ```javascript
   <ThemeContext.Provider value={{ theme, toggleTheme }}>
     {children}
   </ThemeContext.Provider>
   ```

2. **ç»„ä»¶é€šè¿‡ useTheme è·å–æ•°æ®**ï¼š
   ```javascript
   const { theme, toggleTheme } = useTheme();
   ```

3. **ç”¨æˆ·ç‚¹å‡»åˆ‡æ¢æŒ‰é’®**ï¼š
   ```javascript
   <button onClick={toggleTheme}>
   ```

4. **è§¦å‘çŠ¶æ€æ›´æ–°**ï¼š
   ```javascript
   setTheme('dark')
   ```

5. **æ‰€æœ‰ä½¿ç”¨è¯¥ Context çš„ç»„ä»¶è‡ªåŠ¨é‡æ–°æ¸²æŸ“**

---

## ä½¿ç”¨æ–¹æ³•

### åœ¨ä»»ä½•ç»„ä»¶ä¸­ä½¿ç”¨ä¸»é¢˜

```javascript
import { useTheme } from '../context/ThemeContext';

function MyComponent() {
  const { theme, toggleTheme, themeColors } = useTheme();

  return (
    <div>
      <p>å½“å‰ä¸»é¢˜ï¼š{theme}</p>
      <button onClick={toggleTheme}>åˆ‡æ¢ä¸»é¢˜</button>
      <div style={{ color: themeColors.textPrimary }}>
        ä½¿ç”¨ä¸»é¢˜é¢œè‰²
      </div>
    </div>
  );
}
```

### ä½¿ç”¨ CSS å˜é‡

#### æ–¹æ³• 1ï¼šåœ¨ CSS æ–‡ä»¶ä¸­

```css
.my-element {
  background-color: var(--card-bg);
  color: var(--text-primary);
}
```

#### æ–¹æ³• 2ï¼šåœ¨å†…è”æ ·å¼ä¸­

```javascript
<div style={{ 
  backgroundColor: 'var(--card-bg)',
  color: 'var(--text-primary)'
}}>
  å†…å®¹
</div>
```

---

## å­¦ä¹ æ€»ç»“

### æ ¸å¿ƒçŸ¥è¯†ç‚¹

#### 1. Context API çš„ä¸‰ä¸ªæ ¸å¿ƒ API

| API | ä½œç”¨ | ä½¿ç”¨åœºæ™¯ |
|-----|------|---------|
| `createContext()` | åˆ›å»º Context å¯¹è±¡ | å®šä¹‰å…¨å±€çŠ¶æ€ |
| `<Context.Provider>` | æä¾›æ•°æ® | åŒ…è£¹éœ€è¦è®¿é—®æ•°æ®çš„ç»„ä»¶æ ‘ |
| `useContext(Context)` | æ¶ˆè´¹æ•°æ® | åœ¨ç»„ä»¶ä¸­è·å– Context æ•°æ® |

#### 2. CSS å˜é‡çš„ä½¿ç”¨

```css
/* å®šä¹‰ */
:root {
  --color: blue;
}

/* ä½¿ç”¨ */
.element {
  color: var(--color);
}

/* JavaScript ä¿®æ”¹ */
document.documentElement.style.setProperty('--color', 'red');
```

#### 3. è‡ªå®šä¹‰ Hook çš„æœ€ä½³å®è·µ

âœ… **å‘½åè§„èŒƒ**ï¼šä»¥ `use` å¼€å¤´  
âœ… **é”™è¯¯æ£€æŸ¥**ï¼šæ£€æŸ¥æ˜¯å¦åœ¨æ­£ç¡®çš„ Context ä¸­ä½¿ç”¨  
âœ… **é€»è¾‘å¤ç”¨**ï¼šå°†é€šç”¨é€»è¾‘æŠ½å–æˆ Hook  

---

### è®¾è®¡æ¨¡å¼

#### Provider æ¨¡å¼

```
<ThemeProvider>
  <App>
    <Header />
    <Content />
    <Footer />
  </App>
</ThemeProvider>
```

**ä¼˜åŠ¿**ï¼š
- é¿å… prop drillingï¼ˆprops å±‚å±‚ä¼ é€’ï¼‰
- ä»»ä½•å­ç»„ä»¶éƒ½å¯ä»¥è®¿é—®ä¸»é¢˜
- æ•°æ®æ›´æ–°æ—¶ï¼Œåªæœ‰ä½¿ç”¨è¯¥æ•°æ®çš„ç»„ä»¶é‡æ–°æ¸²æŸ“

---

### æ‰©å±•æ€è€ƒ

#### 1. å¦‚æœè¦æ·»åŠ ç¬¬ä¸‰ä¸ªä¸»é¢˜ï¼ˆæ¯”å¦‚é«˜å¯¹æ¯”åº¦æ¨¡å¼ï¼‰ï¼Ÿ

åªéœ€è¦åœ¨ `themes` å¯¹è±¡ä¸­æ·»åŠ æ–°é…ç½®ï¼š

```javascript
export const themes = {
  light: { /* ... */ },
  dark: { /* ... */ },
  highContrast: {
    name: 'highContrast',
    colors: {
      primaryBg: '#000000',
      textPrimary: '#ffffff',
      // ...
    }
  }
};
```

ç„¶ååœ¨åˆ‡æ¢æŒ‰é’®ä¸­æ·»åŠ ç›¸åº”é€»è¾‘ã€‚

#### 2. å¦‚æœè¦è®©ç”¨æˆ·è‡ªå®šä¹‰ä¸»é¢˜é¢œè‰²ï¼Ÿ

å¯ä»¥æ·»åŠ ä¸€ä¸ªé¢œè‰²é€‰æ‹©å™¨ï¼Œå…è®¸ç”¨æˆ·ä¿®æ”¹ä¸»é¢˜é…ç½®ï¼Œå¹¶ä¿å­˜åˆ° localStorageã€‚

#### 3. ä¸ºä»€ä¹ˆä¸ç”¨ Reduxï¼Ÿ

å¯¹äºç®€å•çš„å…¨å±€çŠ¶æ€ï¼ˆå¦‚ä¸»é¢˜ï¼‰ï¼ŒContext API å·²ç»è¶³å¤Ÿï¼š
- **Context API**ï¼šè½»é‡ã€å†…ç½®ã€é€‚åˆç®€å•çŠ¶æ€
- **Redux**ï¼šåŠŸèƒ½å¼ºå¤§ã€é€‚åˆå¤æ‚çŠ¶æ€ç®¡ç†ã€éœ€è¦é¢å¤–ä¾èµ–

---

### æ€§èƒ½ä¼˜åŒ–æŠ€å·§

#### 1. ä½¿ç”¨ React.memo ä¼˜åŒ–ç»„ä»¶

```javascript
const ThemeToggle = React.memo(function ThemeToggle() {
  const { theme, toggleTheme } = useTheme();
  return <button onClick={toggleTheme}>{theme}</button>;
});
```

#### 2. åˆ†ç¦» Context

å¦‚æœçŠ¶æ€å¾ˆå¤æ‚ï¼Œå¯ä»¥åˆ†ç¦»æˆå¤šä¸ª Contextï¼š

```javascript
<ThemeProvider>
  <UserProvider>
    <LanguageProvider>
      <App />
    </LanguageProvider>
  </UserProvider>
</ThemeProvider>
```

---

## å®Œæ•´æ–‡ä»¶ç»“æ„

```
src/
â”œâ”€â”€ context/
â”‚   â””â”€â”€ ThemeContext.js          # ä¸»é¢˜ä¸Šä¸‹æ–‡å’Œé…ç½®
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ThemeToggle.jsx          # ä¸»é¢˜åˆ‡æ¢æŒ‰é’®
â”‚   â”œâ”€â”€ NoteForm.jsx             # ç¬”è®°è¡¨å•ï¼ˆä½¿ç”¨ CSS å˜é‡ï¼‰
â”‚   â”œâ”€â”€ NoteItem.jsx             # ç¬”è®°é¡¹ï¼ˆä½¿ç”¨ CSS å˜é‡ï¼‰
â”‚   â””â”€â”€ NoteList.jsx             # ç¬”è®°åˆ—è¡¨ï¼ˆä½¿ç”¨ CSS å˜é‡ï¼‰
â”œâ”€â”€ App.js                        # ä¸»åº”ç”¨ï¼ˆæ·»åŠ ä¸»é¢˜åˆ‡æ¢æŒ‰é’®ï¼‰
â”œâ”€â”€ App.css                       # å…¨å±€æ ·å¼ï¼ˆä½¿ç”¨ CSS å˜é‡ï¼‰
â”œâ”€â”€ index.js                      # å…¥å£æ–‡ä»¶ï¼ˆåŒ…è£¹ ThemeProviderï¼‰
â””â”€â”€ index.css                     # åŸºç¡€æ ·å¼
```

---

## è°ƒè¯•æŠ€å·§

### 1. æŸ¥çœ‹ CSS å˜é‡

åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­ï¼š
1. æ‰“å¼€ Elements é¢æ¿
2. é€‰ä¸­ `<html>` å…ƒç´ 
3. æŸ¥çœ‹ Styles é¢æ¿ä¸­çš„ `element.style`
4. å¯ä»¥çœ‹åˆ°æ‰€æœ‰åŠ¨æ€è®¾ç½®çš„ CSS å˜é‡

### 2. æŸ¥çœ‹ localStorage

åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ï¼š
```javascript
localStorage.getItem('theme')  // 'light' æˆ– 'dark'
```

### 3. React DevTools

å®‰è£… React DevTools æµè§ˆå™¨æ‰©å±•ï¼Œå¯ä»¥æŸ¥çœ‹ï¼š
- Context çš„å½“å‰å€¼
- ç»„ä»¶çš„é‡æ–°æ¸²æŸ“æƒ…å†µ

---

## å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆåˆ‡æ¢ä¸»é¢˜æ—¶æœ‰å»¶è¿Ÿï¼Ÿ

A: æ·»åŠ äº† CSS è¿‡æ¸¡æ•ˆæœï¼š
```css
transition: background 0.3s ease;
```
è¿™æ˜¯æ•…æ„çš„ï¼Œè®©é¢œè‰²åˆ‡æ¢æ›´å¹³æ»‘ã€‚å¦‚æœä¸éœ€è¦ï¼Œå¯ä»¥åˆ é™¤è¿™è¡Œã€‚

### Q2: èƒ½å¦è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿä¸»é¢˜ï¼Ÿ

A: å¯ä»¥ï¼ä½¿ç”¨ `window.matchMedia`ï¼š

```javascript
const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
const defaultTheme = prefersDark ? 'dark' : 'light';
```

### Q3: CSS å˜é‡åœ¨æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒå—ï¼Ÿ

A: ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒï¼ŒIE ä¸æ”¯æŒã€‚å¦‚æœéœ€è¦å…¼å®¹ IEï¼Œå¯ä»¥ä½¿ç”¨ polyfill æˆ–è€…æ”¹ç”¨ CSS-in-JS æ–¹æ¡ˆã€‚

---

## æ€»ç»“

é€šè¿‡è¿™ä¸ªä¸»é¢˜åˆ‡æ¢åŠŸèƒ½ï¼Œä½ å­¦åˆ°äº†ï¼š

âœ… **Context API** - å…¨å±€çŠ¶æ€ç®¡ç†çš„ React å®˜æ–¹æ–¹æ¡ˆ  
âœ… **CSS å˜é‡** - åŠ¨æ€æ ·å¼çš„æœ€ä½³å®è·µ  
âœ… **è‡ªå®šä¹‰ Hook** - å¤ç”¨é€»è¾‘çš„ä¼˜é›…æ–¹å¼  
âœ… **localStorage** - æŒä¹…åŒ–å­˜å‚¨ç”¨æˆ·è®¾ç½®  
âœ… **ç»„ä»¶è®¾è®¡** - Provider æ¨¡å¼çš„åº”ç”¨  

è¿™äº›æŠ€æœ¯ä¸ä»…é€‚ç”¨äºä¸»é¢˜åˆ‡æ¢ï¼Œè¿˜å¯ä»¥åº”ç”¨äºï¼š
- å¤šè¯­è¨€åˆ‡æ¢
- ç”¨æˆ·åå¥½è®¾ç½®
- å…¨å±€çŠ¶æ€ç®¡ç†
- ä»»ä½•éœ€è¦è·¨ç»„ä»¶å…±äº«çš„æ•°æ®

ç»§ç»­åŠ æ²¹ï¼ğŸ’ª



