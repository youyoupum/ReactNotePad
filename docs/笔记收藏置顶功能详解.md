# â­ ç¬”è®°æ”¶è—/ç½®é¡¶åŠŸèƒ½è¯¦è§£

## ğŸ“Œ åŠŸèƒ½æ¦‚è¿°

æœ¬åŠŸèƒ½å®ç°äº†ç¬”è®°çš„æ˜Ÿæ ‡æ”¶è—åŠŸèƒ½ï¼Œè®©ç”¨æˆ·å¯ä»¥æ ‡è®°é‡è¦çš„ç¬”è®°ï¼Œè¿™äº›ç¬”è®°ä¼šè‡ªåŠ¨ç½®é¡¶æ˜¾ç¤ºåœ¨åˆ—è¡¨æœ€å‰é¢ã€‚

---

## ğŸ¯ ä½ çš„æ€è·¯åˆ†æ

### æ€è·¯1ï¼šæ„å»ºé¢å¤–çš„notesæ•°ç»„å¹¶åˆå¹¶
```javascript
// âŒ ä¸æ¨èçš„åšæ³•
const starredNotes = []; // é¢å¤–çš„æ˜Ÿæ ‡ç¬”è®°æ•°ç»„
const normalNotes = []; // æ™®é€šç¬”è®°æ•°ç»„
// ä» localStorage åˆ†åˆ«è·å–å¹¶åˆå¹¶...
```

**é—®é¢˜ï¼š**
1. âŒ æ•°æ®å†—ä½™ï¼šåŒä¸€ä¸ªç¬”è®°å¯èƒ½åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­éƒ½å­˜åœ¨
2. âŒ éš¾ä»¥ç»´æŠ¤ï¼šæ·»åŠ ã€åˆ é™¤ã€ç¼–è¾‘æ—¶éœ€è¦åŒæ—¶æ“ä½œä¸¤ä¸ªæ•°ç»„
3. âŒ å®¹æ˜“å‡ºé”™ï¼šå®¹æ˜“é€ æˆæ•°æ®ä¸ä¸€è‡´
4. âŒ localStorage å­˜å‚¨æµªè´¹

---

### æ€è·¯2ï¼šåœ¨ç¬”è®°å¯¹è±¡ä¸­æ·»åŠ å­—æ®µæ ‡è®°
```javascript
// âœ… æ¨èçš„åšæ³•
const note = {
  id: 1,
  title: 'æˆ‘çš„ç¬”è®°',
  content: 'ç¬”è®°å†…å®¹',
  isStarred: true,  // ğŸ‘ˆ æ·»åŠ æ˜Ÿæ ‡æ ‡è®°å­—æ®µ
  // ... å…¶ä»–å­—æ®µ
};
```

**ä¼˜ç‚¹ï¼š**
1. âœ… æ•°æ®ç»“æ„æ¸…æ™°ï¼šæ¯ä¸ªç¬”è®°åªæœ‰ä¸€ä»½æ•°æ®
2. âœ… æ˜“äºç»´æŠ¤ï¼šåªéœ€æ“ä½œä¸€ä¸ªæ•°ç»„
3. âœ… ç¬¦åˆè§„èŒƒï¼šè¿™æ˜¯å¯¹è±¡å±æ€§æ“ä½œçš„æ ‡å‡†åšæ³•
4. âœ… é«˜æ•ˆï¼šä¸€æ¬¡æ“ä½œå®Œæˆæ‰€æœ‰é€»è¾‘

**ç»“è®ºï¼šæ€è·¯2æ˜¯æ­£ç¡®çš„ï¼æˆ‘ä»¬é‡‡ç”¨è¿™ä¸ªæ–¹æ¡ˆã€‚**

---

## ğŸ—ï¸ å®ç°æ­¥éª¤è¯¦è§£

### ç¬¬ä¸€æ­¥ï¼šæ·»åŠ åˆ‡æ¢æ˜Ÿæ ‡çš„å‡½æ•°ï¼ˆApp.jsï¼‰

åœ¨ `App.js` ä¸­æ·»åŠ  `toggleStar` å‡½æ•°ï¼š

```javascript
/**
 * â­ åˆ‡æ¢ç¬”è®°çš„æ˜Ÿæ ‡çŠ¶æ€ï¼ˆæ”¶è—/ç½®é¡¶ï¼‰
 * @param {number} id - è¦åˆ‡æ¢æ˜Ÿæ ‡çš„ç¬”è®° ID
 */
const toggleStar = (id) => {
  // ä½¿ç”¨ map éå†æ‰€æœ‰ç¬”è®°
  setNotes(notes.map(note => {
    // æ‰¾åˆ°ç›®æ ‡ç¬”è®°
    if (note.id === id) {
      // ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦å¤åˆ¶ç¬”è®°å¯¹è±¡ï¼Œå¹¶åˆ‡æ¢ isStarred çŠ¶æ€
      return {
        ...note,
        isStarred: !note.isStarred  // åˆ‡æ¢æ˜Ÿæ ‡çŠ¶æ€
      };
    }
    // å…¶ä»–ç¬”è®°ä¿æŒä¸å˜
    return note;
  }));
};
```

#### ğŸ” æ ¸å¿ƒçŸ¥è¯†ç‚¹è®²è§£

**1. Array.map() æ–¹æ³•**
- **ä½œç”¨**ï¼šéå†æ•°ç»„ï¼Œå¯¹æ¯ä¸ªå…ƒç´ è¿›è¡Œå¤„ç†ï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„
- **ä¸æ”¹å˜åŸæ•°ç»„**ï¼šmap åˆ›å»ºæ–°æ•°ç»„ï¼Œä¸ä¿®æ”¹åŸå§‹æ•°æ®
- **è¯­æ³•**ï¼š`array.map((item, index) => { return newItem })`

**ç¤ºä¾‹ï¼š**
```javascript
const numbers = [1, 2, 3];
const doubled = numbers.map(n => n * 2);
// doubled = [2, 4, 6]
// numbers = [1, 2, 3] (åŸæ•°ç»„ä¸å˜)
```

**2. å±•å¼€è¿ç®—ç¬¦ (...)**
- **ä½œç”¨**ï¼šå¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å±æ€§åˆ°æ–°å¯¹è±¡
- **è¯­æ³•**ï¼š`{ ...oldObject, newProperty: value }`
- **ç‰¹ç‚¹**ï¼šåé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„åŒåå±æ€§

**ç¤ºä¾‹ï¼š**
```javascript
const oldNote = { id: 1, title: 'ç¬”è®°', isStarred: false };
const newNote = { ...oldNote, isStarred: true };
// newNote = { id: 1, title: 'ç¬”è®°', isStarred: true }
// oldNote ä¿æŒä¸å˜
```

**3. é€»è¾‘éè¿ç®—ç¬¦ (!)**
- **ä½œç”¨**ï¼šå°†å¸ƒå°”å€¼å–å
- **ç”¨æ³•**ï¼š`!true` â†’ `false`, `!false` â†’ `true`
- **ç‰¹æ®Šæƒ…å†µ**ï¼š`!undefined` â†’ `true` (ç¬¬ä¸€æ¬¡ç‚¹å‡»æ—¶ï¼ŒisStarred ä¸å­˜åœ¨)

**ç¤ºä¾‹ï¼š**
```javascript
const note1 = { isStarred: true };
const toggled1 = !note1.isStarred;  // false

const note2 = {};  // isStarred ä¸å­˜åœ¨
const toggled2 = !note2.isStarred;  // !undefined = true
```

---

### ç¬¬äºŒæ­¥ï¼šå®ç°å¤šæ¡ä»¶æ’åºï¼ˆApp.jsï¼‰

ä¿®æ”¹ `filteredNotes` ä¸­çš„æ’åºé€»è¾‘ï¼š

```javascript
result = [...result].sort((a, b) => {
  // ğŸŒŸ ç¬¬ä¸€ä¼˜å…ˆçº§ï¼šæ˜Ÿæ ‡æ’åºï¼ˆæ˜Ÿæ ‡çš„ç¬”è®°æ°¸è¿œåœ¨å‰é¢ï¼‰
  const aStarred = a.isStarred ? 1 : 0;
  const bStarred = b.isStarred ? 1 : 0;
  
  // å¦‚æœæ˜Ÿæ ‡çŠ¶æ€ä¸åŒï¼Œä¼˜å…ˆæ˜¾ç¤ºæœ‰æ˜Ÿæ ‡çš„
  if (aStarred !== bStarred) {
    return bStarred - aStarred;  // é™åºï¼šæ˜Ÿæ ‡çš„åœ¨å‰
  }

  // ğŸ¯ ç¬¬äºŒä¼˜å…ˆçº§ï¼šç”¨æˆ·é€‰æ‹©çš„æ’åºå­—æ®µ
  let compareValue = 0;
  
  if (sortBy === 'title') {
    compareValue = a.title.localeCompare(b.title, 'zh-CN');
  } else if (sortBy === 'createdAt') {
    compareValue = new Date(a.createdAt) - new Date(b.createdAt);
  } else if (sortBy === 'updatedAt') {
    const timeA = a.updatedAt ? new Date(a.updatedAt) : new Date(a.createdAt);
    const timeB = b.updatedAt ? new Date(b.updatedAt) : new Date(b.createdAt);
    compareValue = timeA - timeB;
  }

  return sortOrder === 'asc' ? compareValue : -compareValue;
});
```

#### ğŸ” Array.sort() å¤šæ¡ä»¶æ’åºè¯¦è§£

**1. Array.sort() åŸºç¡€**

```javascript
// è¯­æ³•
array.sort((a, b) => {
  // è¿”å›è´Ÿæ•°ï¼ša æ’åœ¨ b å‰é¢
  // è¿”å› 0ï¼šä½ç½®ä¸å˜
  // è¿”å›æ­£æ•°ï¼šb æ’åœ¨ a å‰é¢
});
```

**2. æ’åºè¿”å›å€¼çš„å«ä¹‰**

| è¿”å›å€¼ | å«ä¹‰ | ç»“æœ |
|--------|------|------|
| è´Ÿæ•° (< 0) | a < b | a æ’åœ¨ b å‰é¢ |
| 0 | a = b | é¡ºåºä¸å˜ |
| æ­£æ•° (> 0) | a > b | b æ’åœ¨ a å‰é¢ |

**ç¤ºä¾‹ï¼šå‡åºæ’åº**
```javascript
const numbers = [5, 2, 8, 1, 9];
numbers.sort((a, b) => a - b);
// [1, 2, 5, 8, 9]

// è¯¦ç»†è¿‡ç¨‹ï¼š
// æ¯”è¾ƒ 5 å’Œ 2: 5 - 2 = 3 (æ­£æ•°) â†’ 2 æ’å‰é¢
// æ¯”è¾ƒ 2 å’Œ 8: 2 - 8 = -6 (è´Ÿæ•°) â†’ 2 æ’å‰é¢
// ...
```

**ç¤ºä¾‹ï¼šé™åºæ’åº**
```javascript
const numbers = [5, 2, 8, 1, 9];
numbers.sort((a, b) => b - a);
// [9, 8, 5, 2, 1]
```

**3. å¤šæ¡ä»¶æ’åºçš„åŸç†**

å½“ç¬¬ä¸€ä¸ªæ¡ä»¶ç›¸åŒæ—¶ï¼Œæ‰ä¼šæ‰§è¡Œç¬¬äºŒä¸ªæ¡ä»¶çš„æ¯”è¾ƒã€‚

```javascript
// åœºæ™¯ï¼šå…ˆæŒ‰å¹´é¾„é™åºï¼Œå¹´é¾„ç›¸åŒæŒ‰å§“åå‡åº
const people = [
  { name: 'å¼ ä¸‰', age: 25 },
  { name: 'æå››', age: 30 },
  { name: 'ç‹äº”', age: 25 }
];

people.sort((a, b) => {
  // ç¬¬ä¸€ä¼˜å…ˆçº§ï¼šå¹´é¾„é™åº
  if (a.age !== b.age) {
    return b.age - a.age;  // 30, 25, 25
  }
  
  // ç¬¬äºŒä¼˜å…ˆçº§ï¼šå§“åå‡åºï¼ˆåªæœ‰å¹´é¾„ç›¸åŒæ—¶æ‰æ‰§è¡Œï¼‰
  return a.name.localeCompare(b.name);
});

// ç»“æœï¼š
// [
//   { name: 'æå››', age: 30 },  â† å¹´é¾„æœ€å¤§
//   { name: 'ç‹äº”', age: 25 },  â† å¹´é¾„25ï¼Œå§“å'ç‹'æ’å
//   { name: 'å¼ ä¸‰', age: 25 }   â† å¹´é¾„25ï¼Œå§“å'å¼ 'æ’å
// ]
```

**4. æœ¬é¡¹ç›®çš„å¤šæ¡ä»¶æ’åºé€»è¾‘**

```javascript
// ç¬¬ä¸€å±‚ï¼šæ˜Ÿæ ‡ä¼˜å…ˆ
// æœ‰æ˜Ÿæ ‡(1) vs æ— æ˜Ÿæ ‡(0)
// è¿”å› 0 - 1 = -1 (è´Ÿæ•°) â†’ æ— æ˜Ÿæ ‡æ’å‰ï¼Ÿä¸å¯¹ï¼
// è¿”å› 1 - 0 = 1 (æ­£æ•°) â†’ æœ‰æ˜Ÿæ ‡æ’å‰ï¼Ÿä¹Ÿä¸å¯¹ï¼

// æ­£ç¡®åšæ³•ï¼š
if (aStarred !== bStarred) {
  return bStarred - aStarred;
}

// è¯¦ç»†åˆ†æï¼š
// aæ— æ˜Ÿæ ‡(0) vs bæœ‰æ˜Ÿæ ‡(1): 1 - 0 = 1 (æ­£æ•°) â†’ bæ’å‰é¢ âœ…
// aæœ‰æ˜Ÿæ ‡(1) vs bæ— æ˜Ÿæ ‡(0): 0 - 1 = -1 (è´Ÿæ•°) â†’ aæ’å‰é¢ âœ…
// aæœ‰æ˜Ÿæ ‡(1) vs bæœ‰æ˜Ÿæ ‡(1): 1 - 1 = 0 â†’ æ‰§è¡Œç¬¬äºŒå±‚æ’åº
```

**ç¬¬äºŒå±‚ï¼šç”¨æˆ·é€‰æ‹©çš„æ’åºå­—æ®µ**

åªæœ‰å½“ä¸¤ä¸ªç¬”è®°çš„æ˜Ÿæ ‡çŠ¶æ€ç›¸åŒæ—¶ï¼ˆéƒ½æœ‰æ˜Ÿæ ‡æˆ–éƒ½æ²¡æœ‰ï¼‰ï¼Œæ‰ä¼šæŒ‰ç…§ç”¨æˆ·é€‰æ‹©çš„å­—æ®µï¼ˆæ ‡é¢˜ã€åˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´ï¼‰è¿›è¡Œæ’åºã€‚

---

### ç¬¬ä¸‰æ­¥ï¼šä¼ é€’å‡½æ•°åˆ°å­ç»„ä»¶

**App.js â†’ NoteList â†’ NoteItem**

```javascript
// App.js
<NoteList
  notes={filteredNotes}
  onDelete={deleteNote}
  onEdit={startEdit}
  onToggleStar={toggleStar}  // ğŸ‘ˆ ä¼ é€’æ˜Ÿæ ‡åˆ‡æ¢å‡½æ•°
/>

// NoteList.jsx
function NoteList({ notes, onDelete, onEdit, onToggleStar }) {
  return (
    <div>
      {notes.map(note => (
        <NoteItem
          key={note.id}
          note={note}
          onDelete={onDelete}
          onEdit={onEdit}
          onToggleStar={onToggleStar}  // ğŸ‘ˆ ç»§ç»­ä¼ é€’
        />
      ))}
    </div>
  );
}
```

#### ğŸ” Props ä¼ é€’æœºåˆ¶

**ä»€ä¹ˆæ˜¯ Propsï¼Ÿ**
- Props = Propertiesï¼ˆå±æ€§ï¼‰
- ç”¨äºçˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®
- **å•å‘æ•°æ®æµ**ï¼šåªèƒ½ä»çˆ¶åˆ°å­ï¼Œä¸èƒ½åå‘

**Props çš„ç±»å‹**
```javascript
// 1. ä¼ é€’æ•°æ®
<Child name="å¼ ä¸‰" age={25} />

// 2. ä¼ é€’å‡½æ•°
<Child onClick={handleClick} />

// 3. ä¼ é€’å¯¹è±¡
<Child user={{ name: 'å¼ ä¸‰', age: 25 }} />

// 4. ä¼ é€’æ•°ç»„
<Child items={[1, 2, 3]} />
```

**ä¸ºä»€ä¹ˆè¦å±‚å±‚ä¼ é€’ï¼Ÿ**
- å› ä¸º React æ˜¯ç»„ä»¶æ ‘ç»“æ„
- æ•°æ®å’Œå‡½æ•°å¿…é¡»é€šè¿‡ props ä¸€å±‚å±‚ä¼ é€’
- è¿™æ ·å¯ä»¥ä¿æŒæ•°æ®æµæ¸…æ™°ã€å¯è¿½æº¯

---

### ç¬¬å››æ­¥ï¼šåœ¨ NoteItem ä¸­æ·»åŠ æ˜Ÿæ ‡æŒ‰é’®

```javascript
function NoteItem({ note, onDelete, onEdit, onToggleStar }) {
  // å¤„ç†æ˜Ÿæ ‡æŒ‰é’®ç‚¹å‡»
  const handleToggleStar = () => {
    onToggleStar(note.id);
  };

  return (
    <div>
      {/* æ ‡é¢˜å’Œæ˜Ÿæ ‡æŒ‰é’®çš„å®¹å™¨ */}
      <div style={titleContainerStyle}>
        <h3 style={noteTitleStyle}>{note.title}</h3>
        
        {/* â­ æ˜Ÿæ ‡æŒ‰é’® - æ¡ä»¶æ¸²æŸ“ */}
        <button
          onClick={handleToggleStar}
          style={starButtonStyle}
          title={note.isStarred ? "å–æ¶ˆæ”¶è—" : "æ·»åŠ æ”¶è—"}
        >
          {note.isStarred ? 'â­' : 'â˜†'}
        </button>
      </div>
      
      {/* å…¶ä»–å†…å®¹... */}
    </div>
  );
}
```

#### ğŸ” æ¡ä»¶æ¸²æŸ“è¯¦è§£

**1. ä¸‰å…ƒè¿ç®—ç¬¦**

```javascript
// è¯­æ³•ï¼šæ¡ä»¶ ? å€¼1 : å€¼2
// æ¡ä»¶ä¸º trueï¼Œè¿”å›å€¼1ï¼›ä¸º falseï¼Œè¿”å›å€¼2

const age = 18;
const status = age >= 18 ? 'æˆå¹´' : 'æœªæˆå¹´';
// status = 'æˆå¹´'
```

**2. åœ¨ JSX ä¸­çš„æ¡ä»¶æ¸²æŸ“**

```javascript
// æ–¹å¼1ï¼šä¸‰å…ƒè¿ç®—ç¬¦
{isStarred ? 'â­' : 'â˜†'}

// æ–¹å¼2ï¼šé€»è¾‘ä¸ (&&)
{isStarred && <span>å·²æ”¶è—</span>}

// æ–¹å¼3ï¼šå˜é‡
const icon = isStarred ? 'â­' : 'â˜†';
return <button>{icon}</button>;

// æ–¹å¼4ï¼šå‡½æ•°
const getIcon = () => isStarred ? 'â­' : 'â˜†';
return <button>{getIcon()}</button>;
```

**3. title å±æ€§**
- HTML åŸç”Ÿå±æ€§
- é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºæç¤ºæ–‡å­—
- æå‡ç”¨æˆ·ä½“éªŒ

```javascript
<button title="è¿™æ˜¯æç¤ºæ–‡å­—">ç‚¹å‡»</button>
```

---

## ğŸ¨ æ ·å¼è®¾è®¡

```javascript
// æ ‡é¢˜å®¹å™¨ï¼šä½¿ç”¨ Flexbox å¸ƒå±€
const titleContainerStyle = {
  display: 'flex',              // å¯ç”¨ Flex å¸ƒå±€
  alignItems: 'center',         // å‚ç›´å±…ä¸­å¯¹é½
  justifyContent: 'space-between',  // ä¸¤ç«¯å¯¹é½
  gap: '10px',                  // å…ƒç´ é—´è·
  marginBottom: '12px'
};

// æ˜Ÿæ ‡æŒ‰é’®æ ·å¼
const starButtonStyle = {
  backgroundColor: 'transparent',  // é€æ˜èƒŒæ™¯
  border: 'none',                  // æ— è¾¹æ¡†
  fontSize: '1.5rem',              // å­—ä½“å¤§å°
  cursor: 'pointer',               // é¼ æ ‡å˜ä¸ºæ‰‹å‹
  padding: '5px',
  lineHeight: 1,
  transition: 'transform 0.2s',    // åŠ¨ç”»è¿‡æ¸¡
  flexShrink: 0                    // ä¸å…è®¸ç¼©å°
};

// æ ‡é¢˜æ ·å¼
const noteTitleStyle = {
  color: '#333',
  margin: 0,                  // ç§»é™¤é»˜è®¤ margin
  fontSize: '1.2rem',
  fontWeight: '600',
  wordBreak: 'break-word',    // é•¿å•è¯è‡ªåŠ¨æ¢è¡Œ
  flex: 1                     // å æ®å‰©ä½™ç©ºé—´
};
```

#### ğŸ” Flexbox å¸ƒå±€è¯¦è§£

**åŸºæœ¬æ¦‚å¿µ**
```css
display: flex; /* å¯ç”¨ Flex å¸ƒå±€ */
```

**ä¸»è¦å±æ€§**

| å±æ€§ | ä½œç”¨ | å¸¸ç”¨å€¼ |
|------|------|--------|
| `justify-content` | ä¸»è½´å¯¹é½ | `flex-start`, `center`, `space-between` |
| `align-items` | äº¤å‰è½´å¯¹é½ | `flex-start`, `center`, `stretch` |
| `gap` | å…ƒç´ é—´è· | `10px`, `1rem` |
| `flex` | å­å…ƒç´ å æ¯” | `1` (å æ®å‰©ä½™ç©ºé—´) |
| `flex-shrink` | æ˜¯å¦å…è®¸ç¼©å° | `0` (ä¸ç¼©å°), `1` (å…è®¸) |

**ç¤ºä¾‹ï¼šæ ‡é¢˜å’ŒæŒ‰é’®å¸ƒå±€**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [æ ‡é¢˜æ–‡å­—å æ®å‰©ä½™ç©ºé—´]        [â­]  â”‚
â”‚ â†â”€â”€â”€â”€â”€â”€ flex: 1 â”€â”€â”€â”€â”€â”€â†’  flexShrink: 0 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†‘                                 â†‘
   ä¸¤ç«¯å¯¹é½ (space-between)
```

---

## ğŸ”„ å®Œæ•´æ•°æ®æµ

```
ç”¨æˆ·ç‚¹å‡»æ˜Ÿæ ‡æŒ‰é’®
    â†“
handleToggleStar() è¢«è°ƒç”¨
    â†“
onToggleStar(note.id) æ‰§è¡Œ
    â†“
NoteList çš„ onToggleStar è¢«è°ƒç”¨
    â†“
App.js çš„ toggleStar(id) æ‰§è¡Œ
    â†“
ä½¿ç”¨ map éå† notes æ•°ç»„
    â†“
æ‰¾åˆ°å¯¹åº” id çš„ç¬”è®°
    â†“
åˆ›å»ºæ–°å¯¹è±¡ { ...note, isStarred: !note.isStarred }
    â†“
setNotes æ›´æ–°çŠ¶æ€
    â†“
è§¦å‘ useEffect â†’ localStorage ä¿å­˜
    â†“
filteredNotes é‡æ–°è®¡ç®—ï¼ˆuseMemoï¼‰
    â†“
æ‰§è¡Œå¤šæ¡ä»¶æ’åºï¼ˆæ˜Ÿæ ‡ä¼˜å…ˆï¼‰
    â†“
ç»„ä»¶é‡æ–°æ¸²æŸ“
    â†“
æ˜Ÿæ ‡ç¬”è®°æ˜¾ç¤ºåœ¨æœ€å‰é¢ï¼Œå›¾æ ‡å˜ä¸º â­
```

---

## ğŸ“ æ ¸å¿ƒæŠ€èƒ½æ€»ç»“

### 1. å¯¹è±¡å±æ€§æ“ä½œ

```javascript
// âœ… æ¨èï¼šä¸å¯å˜æ•°æ®æ›´æ–°
const newNote = { ...note, isStarred: !note.isStarred };

// âŒ ä¸æ¨èï¼šç›´æ¥ä¿®æ”¹åŸå¯¹è±¡
note.isStarred = !note.isStarred;  // React å¯èƒ½æ£€æµ‹ä¸åˆ°å˜åŒ–
```

**ä¸ºä»€ä¹ˆè¦ç”¨å±•å¼€è¿ç®—ç¬¦ï¼Ÿ**
- React ä½¿ç”¨**æµ…æ¯”è¾ƒ**æ£€æµ‹çŠ¶æ€å˜åŒ–
- ç›´æ¥ä¿®æ”¹åŸå¯¹è±¡ï¼Œå¼•ç”¨åœ°å€ä¸å˜ï¼ŒReact ä¸ä¼šé‡æ–°æ¸²æŸ“
- åˆ›å»ºæ–°å¯¹è±¡ï¼Œå¼•ç”¨åœ°å€æ”¹å˜ï¼ŒReact ä¼šé‡æ–°æ¸²æŸ“

### 2. æ¡ä»¶æ¸²æŸ“

```javascript
// ä¸‰ç§å¸¸ç”¨æ–¹å¼
{isStarred ? 'â­' : 'â˜†'}                    // äºŒé€‰ä¸€
{isStarred && <span>å·²æ”¶è—</span>}          // æ¡ä»¶æ˜¾ç¤º
{note.tags?.length > 0 && <Tags />}        // å®‰å…¨è®¿é—®
```

### 3. Array.sort() å¤šæ¡ä»¶æ’åº

```javascript
array.sort((a, b) => {
  // ç¬¬ä¸€å±‚ï¼šä¼˜å…ˆçº§æœ€é«˜
  if (a.priority !== b.priority) {
    return b.priority - a.priority;
  }
  
  // ç¬¬äºŒå±‚ï¼šä¼˜å…ˆçº§ç›¸åŒæ—¶æ‰æ‰§è¡Œ
  if (a.date !== b.date) {
    return new Date(b.date) - new Date(a.date);
  }
  
  // ç¬¬ä¸‰å±‚ï¼šä»¥æ­¤ç±»æ¨
  return a.name.localeCompare(b.name);
});
```

**è®°å¿†æŠ€å·§ï¼š**
- è¿”å› **è´Ÿæ•°** â†’ a åœ¨å‰
- è¿”å› **æ­£æ•°** â†’ b åœ¨å‰
- è¿”å› **0** â†’ é¡ºåºä¸å˜

**é™åºæŠ€å·§ï¼š**
- å‡åºï¼š`a - b` æˆ– `a.localeCompare(b)`
- é™åºï¼š`b - a` æˆ– `b.localeCompare(a)`

---

## ğŸ¯ æµ‹è¯•æ­¥éª¤

1. **æ·»åŠ å‡ æ¡ç¬”è®°**
   - åˆ›å»ºè‡³å°‘ 3-5 æ¡æµ‹è¯•ç¬”è®°

2. **ç‚¹å‡»æ˜Ÿæ ‡æŒ‰é’®**
   - è§‚å¯Ÿå›¾æ ‡å˜åŒ–ï¼š`â˜†` â†’ `â­`
   - è§‚å¯Ÿç¬”è®°ä½ç½®ï¼šç«‹å³ç§»åˆ°æœ€å‰é¢

3. **å–æ¶ˆæ˜Ÿæ ‡**
   - å†æ¬¡ç‚¹å‡»ï¼š`â­` â†’ `â˜†`
   - ç¬”è®°å›åˆ°åŸæ¥çš„æ’åºä½ç½®

4. **å¤šä¸ªæ˜Ÿæ ‡ç¬”è®°**
   - æ ‡è®°å¤šæ¡ç¬”è®°ä¸ºæ˜Ÿæ ‡
   - æ‰€æœ‰æ˜Ÿæ ‡ç¬”è®°åœ¨å‰ï¼ŒæŒ‰åŸæ’åºè§„åˆ™æ’åˆ—

5. **åˆ‡æ¢æ’åºæ–¹å¼**
   - æ˜Ÿæ ‡ç¬”è®°å§‹ç»ˆåœ¨æœ€å‰é¢
   - æ™®é€šç¬”è®°æŒ‰é€‰æ‹©çš„å­—æ®µæ’åº

6. **åˆ·æ–°é¡µé¢**
   - æ˜Ÿæ ‡çŠ¶æ€è¢«ä¿å­˜
   - é‡æ–°æ‰“å¼€åæ˜Ÿæ ‡ä¾ç„¶å­˜åœ¨

---

## ğŸš€ æ‰©å±•åŠŸèƒ½å»ºè®®

### 1. æ·»åŠ æ˜Ÿæ ‡æ•°é‡ç»Ÿè®¡
```javascript
const starredCount = notes.filter(note => note.isStarred).length;

<p>å·²æ”¶è— {starredCount} æ¡ç¬”è®°</p>
```

### 2. ç­›é€‰åªæ˜¾ç¤ºæ˜Ÿæ ‡ç¬”è®°
```javascript
const [showStarredOnly, setShowStarredOnly] = useState(false);

// åœ¨ filteredNotes ä¸­æ·»åŠ 
if (showStarredOnly) {
  result = result.filter(note => note.isStarred);
}
```

### 3. æ˜Ÿæ ‡æŒ‰é’®æ·»åŠ åŠ¨ç”»æ•ˆæœ
```css
starButtonStyle: {
  transition: 'transform 0.2s',
}

// é¼ æ ‡æ‚¬åœæ—¶æ”¾å¤§
starButtonStyle:hover {
  transform: scale(1.2);
}
```

### 4. æ‰¹é‡æ“ä½œ
```javascript
// å…¨éƒ¨æ ‡ä¸ºæ˜Ÿæ ‡
const starAll = () => {
  setNotes(notes.map(note => ({ ...note, isStarred: true })));
};

// å–æ¶ˆæ‰€æœ‰æ˜Ÿæ ‡
const unstarAll = () => {
  setNotes(notes.map(note => ({ ...note, isStarred: false })));
};
```

---

## ğŸ’¡ å¸¸è§é—®é¢˜è§£ç­”

### Q1: ä¸ºä»€ä¹ˆä½¿ç”¨ map è€Œä¸æ˜¯ forEachï¼Ÿ

**A:** 
```javascript
// âŒ forEach æ²¡æœ‰è¿”å›å€¼
notes.forEach(note => {
  if (note.id === id) {
    note.isStarred = !note.isStarred;  // ç›´æ¥ä¿®æ”¹
  }
});

// âœ… map è¿”å›æ–°æ•°ç»„
const newNotes = notes.map(note => {
  if (note.id === id) {
    return { ...note, isStarred: !note.isStarred };
  }
  return note;
});
```

### Q2: ä¸ºä»€ä¹ˆæ˜Ÿæ ‡æ’åºè¦ç”¨ `bStarred - aStarred`ï¼Ÿ

**A:**
```javascript
// æˆ‘ä»¬æƒ³è¦ï¼šæœ‰æ˜Ÿæ ‡(1)åœ¨å‰ï¼Œæ— æ˜Ÿæ ‡(0)åœ¨å

// a=0, b=1: 1-0=1 (æ­£æ•°) â†’ båœ¨å‰ â†’ æœ‰æ˜Ÿæ ‡åœ¨å‰ âœ…
// a=1, b=0: 0-1=-1 (è´Ÿæ•°) â†’ aåœ¨å‰ â†’ æœ‰æ˜Ÿæ ‡åœ¨å‰ âœ…
// a=1, b=1: 1-1=0 â†’ æ‰§è¡Œç¬¬äºŒå±‚æ’åº âœ…

// å¦‚æœç”¨ aStarred - bStarredï¼š
// a=0, b=1: 0-1=-1 (è´Ÿæ•°) â†’ aåœ¨å‰ â†’ æ— æ˜Ÿæ ‡åœ¨å‰ âŒ
```

### Q3: å±•å¼€è¿ç®—ç¬¦ä¼šæ·±æ‹·è´å—ï¼Ÿ

**A:** ä¸ä¼šï¼Œåªæ˜¯**æµ…æ‹·è´**

```javascript
const note = {
  id: 1,
  tags: ['å·¥ä½œ', 'å­¦ä¹ ']  // æ•°ç»„æ˜¯å¼•ç”¨ç±»å‹
};

const newNote = { ...note };

newNote.tags.push('ç”Ÿæ´»');
// note.tags ä¹Ÿä¼šè¢«ä¿®æ”¹ï¼å› ä¸º tags æ˜¯å¼•ç”¨

// è§£å†³æ–¹æ¡ˆï¼šæ·±æ‹·è´æ•°ç»„
const newNote = {
  ...note,
  tags: [...note.tags]  // åˆ›å»ºæ–°æ•°ç»„
};
```

### Q4: ä¸ºä»€ä¹ˆéœ€è¦ key å±æ€§ï¼Ÿ

**A:** React ç”¨ key è¯†åˆ«åˆ—è¡¨å…ƒç´ 

```javascript
// âŒ æ²¡æœ‰ key
{notes.map(note => <NoteItem note={note} />)}
// React è­¦å‘Šï¼šEach child should have a unique "key" prop

// âœ… ä½¿ç”¨ key
{notes.map(note => <NoteItem key={note.id} note={note} />)}
```

**key çš„ä½œç”¨ï¼š**
- å¸®åŠ© React è¯†åˆ«å“ªäº›å…ƒç´ å˜åŒ–äº†
- æé«˜æ¸²æŸ“æ€§èƒ½
- é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“

---

## ğŸ“ å­¦ä¹ å»ºè®®

1. **ç†è§£ä¸å¯å˜æ•°æ®æ›´æ–°**
   - ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥ä¿®æ”¹å¯¹è±¡
   - å±•å¼€è¿ç®—ç¬¦çš„åŸç†
   - æµ…æ‹·è´ vs æ·±æ‹·è´

2. **æŒæ¡æ•°ç»„æ–¹æ³•**
   - `map()`: è½¬æ¢æ•°ç»„
   - `filter()`: è¿‡æ»¤æ•°ç»„
   - `sort()`: æ’åºæ•°ç»„
   - `reduce()`: èšåˆè®¡ç®—

3. **ç»ƒä¹ æ¡ä»¶æ¸²æŸ“**
   - ä¸‰å…ƒè¿ç®—ç¬¦
   - é€»è¾‘ä¸ (&&)
   - å¯é€‰é“¾ (?.)

4. **ç†è§£ React æ•°æ®æµ**
   - Props å•å‘ä¼ é€’
   - State çŠ¶æ€ç®¡ç†
   - å‡½æ•°å›è°ƒæœºåˆ¶

---

## ğŸ“š ç›¸å…³èµ„æº

- [MDN: Array.prototype.map()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/map)
- [MDN: Array.prototype.sort()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/sort)
- [MDN: å±•å¼€è¯­æ³•](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Spread_syntax)
- [React æ–‡æ¡£: æ¡ä»¶æ¸²æŸ“](https://react.dev/learn/conditional-rendering)
- [React æ–‡æ¡£: åˆ—è¡¨æ¸²æŸ“](https://react.dev/learn/rendering-lists)

---

## âœ… å®Œæˆæ£€æŸ¥æ¸…å•

- [x] åœ¨ç¬”è®°å¯¹è±¡ä¸­æ·»åŠ  `isStarred` å­—æ®µ
- [x] å®ç° `toggleStar` å‡½æ•°åˆ‡æ¢æ˜Ÿæ ‡çŠ¶æ€
- [x] å®ç°å¤šæ¡ä»¶æ’åºï¼ˆæ˜Ÿæ ‡ä¼˜å…ˆï¼‰
- [x] åœ¨ NoteItem ä¸­æ·»åŠ æ˜Ÿæ ‡æŒ‰é’®
- [x] ä½¿ç”¨æ¡ä»¶æ¸²æŸ“æ˜¾ç¤ºä¸åŒå›¾æ ‡
- [x] æ·»åŠ åˆé€‚çš„æ ·å¼
- [x] æ•°æ®æŒä¹…åŒ–åˆ° localStorage
- [x] æµ‹è¯•æ‰€æœ‰åŠŸèƒ½æ­£å¸¸

æ­å–œä½ å®Œæˆäº†ç¬”è®°æ”¶è—/ç½®é¡¶åŠŸèƒ½ï¼ğŸ‰

